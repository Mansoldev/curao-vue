<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<style>
			p,pre,code,.reveal table th {
				font-size: 22px;
			}
			.reveal ul,ol {
				margin-bottom: 15px;
				display: block;
			}
			ul,ol > li {
				font-size: 20px;
			}
			a,h6 {
				font-size: 25px;
			}
			span.important {
				font-size: 25px;
				font-weight: bolder;
				color: red;
			}
			.reveal table th, .reveal table td {
				padding: 0;
			}
			.reveal table.separada th, .reveal table.separada td {
				padding-right: 20px;
			}
			.reveal pre code.small {
				max-width:800px;
			}

			.text-left {
				text-align: left;
			}
		</style>

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<h1>CLASE 1 - INSTANCIA DE VUE</h1>
					</section>

					<section>
						<h6 class="text-left">En la clase de hoy veremos como funciona vue de forma básica y como utilizarlo en un proyecto importandolo como una libreria tal como se trabajaba hace unos años.</h6>

						<h4>¿Qué es Vue?</h4>
						<p class="text-left">Vue es un framework/libreria de javascript de tercera generación que permite, como sus hermano Angular y React, trabajar el FRONT orientado a componentes, 
							llamando al Backend solo cuando sea necesario.</p>
						<p>A destacar:</p>
						<ul>
							<li>Es un framework posterior a Angular y React, que se pensó para que tuviese lo mejor de ambos, más facil de aprender y optimizado, solo pesa 20KB.</li>
							<li>Es reactivo, todo se actualiza sin necesidad de crear listeners.</li>
							<li>Es progresivo, el core es ligero, pero para aplicaciones medianas y grandes, trae un ecosistema de librerias que ayudan al cambio.</li>
							<li>Vue no te obliga a adoptar otras tecnologías, te lo deja a tu elección (JSX react, Typescript)</li>
						</ul>
					</section>

					<section>
						<h3>0 - ¿CÓMO SE UTILIZA?</h3>

						<br>
						<p class="text-left">Existen dos formas de utilizar VUE:</p>
						<ol>
							<li>Importandolo como una libreria, recomendado para aprender a utilizarlo y una manera de utilizarlo en proyectos antiguos sin tener que rehacer todo el código.</li>
							<li>Como un proyecto NODE, que nos brinda toda la potencia del backend y nos ayuda a desarrollar mejor con cosas como la recarga en caliente de la página al guardar y los archivos .vue</li>
						</ol>
						<p class="text-left">Vue no es soportado en IE8 y más antiguos <a href="https://caniuse.com/#feat=mdn-javascript_builtins_array_reduce">Compatibilidad</a></p>
					</section>
				</section>
				
				<!-- 1 -->
				<section>
					<section>
						<h3>1 - IMPORTANDO VUE COMO LIBRERIA</h3>
						<p class="text-left">Para poder utilizarlo solo necesitamos importarlo en un proyecto añadiendo el siguiente script:</p>
						<pre><code class="hljs" data-line-numbers="1">&lt;script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"&gt;&lt;/script&gt;</code></pre>

						<p class="text-left">Y con estas sencillas lineas de código, Vue está funcionando.</p>
						<pre><code class="hljs" data-line-numbers="1,4,5,6,7,8,9">&lt;div id="app"&gt;{{ message }}&lt;/div&gt;

&lt;script&gt;
	var app = new Vue({
		el: '#app',
		data: {
			message: 'Hello Vue!'
		}
	})
&lt;/script&gt;
						</code></pre>

						<p class="text-left">Tambien es recomendable instalar las <span class="important">Vue Dev Tools</span>, que veremos más adelante</li></p>
					</section>
						
					<section>
						<h4>1.1 ¿Como funciona?</h4>

						<pre><code class="hljs" data-line-numbers="1">el: '#app',</code></pre>
						<p class="text-left">En esta linea le decimos a VUE que tiene que vincularse con el elemento con el id 'app' y con esto, 
							Vue es capaz de controlar cualquier cosa que descienda de esa etiqueta sin necesidad de referenciarla</p>

						<pre><code class="hljs" data-line-numbers="1,3,4,5">&lt;div id="app"&gt;{{ message }}&lt;/div&gt;

data: {
	message: 'Hello Vue!'
}
						</code></pre>
						<p class="text-left">Aquí vemos el elemento que está unido a Vue y que el mensaje que tenemos en la parte de datos de Vue automáticamente se muestra dentro del 'div' de la vista 
							solo con poner un par de corchetes, esto se llama <span class="important">interpolación</span>.</p>
						<p>La sintaxis de corchetes se llama moustache y es un estandar hoy en día en
							día en la mayoria de gestores de plantillas de los principales lenguajes.</p>
					</section>

					<section>
						<h4>1.2 Reactividad</h4>

						<p class="text-left">Vue, al igual que angular, es reactivo, es decir, cada vez que cambie un dato por cualquier fuente, el dato cambiará en todos los lugares en los que esté vinculado.</p>

						<p class="text-left">UN EJEMPLO.</p>
					</section>
				</section>

				<!-- 2 -->
				<section>
					<section>
						<h3>2 - VUE DEV TOOLS Y VSCODE</h3>

						<p class="text-left">
							Las vue dev tools son una extension del navegador que permite depurar las aplicaciones de vue en tiempo de ejecución,
							pudiendo ver el valor de las variables en tiempo real.
						</p>

						<p class="text-left">
							Son compatibles al menos con chrome y firefox y creo que con navegadores basados en chromium (la mayoria).
						</p>

						<p class="text-left">Son recomendables, las siguientes extensiones de vscode, no son obligatorias:</p>
						<ul>
							<li>Spanish language Pack</li>
							<li>vscode-icons</li>
							<li>Vue VS Code Extension Pack</li>
						</ul>
					</section>
					<section>
						<p class="text-left">Despues de la introducción... Ahora veremos los siguientes conceptos:</p>
						<ul>
							<li>DATA BINDIGN Y TWO WAY DATA BINDING</li>
							<li>INTERPOLACIÓN Y DIRECTIVAS</li>
							<li>FILTROS</li>
							<li>METODOS Y EVENTOS</li>
							<li>COMPUTED PROPERTIES Y WATCHERS</li>
							<li>DIRECTIVAS DE CONTROL DE FLUJO</li>
							<li>LIFECYCLE HOOKS</li>
							<li>REACTIVIDAD EN PROFUNDIDAD</li>
						</ul>
					</section>
				</section>

				<!-- 3 -->
				<section>
					<section>
						<h3>3 - DATA BINDIGN Y TWO WAY DATA BINDING</h3>

						<p class="text-left">Ya sabemos pasar datos del modelo a la vista, lo contrario se hace con la directiva <span class="important">v-model</span></p>
						<pre><code class="hljs" data-line-numbers="2">&lt;div id="app"&gt;
	&lt;input v-model="message"&gt;
&lt;/div&gt;</code></pre>
					</section>
						
					<section>
						<h4>3.1 BINDEO EN DOS DIRECCIONES:</h4>

						<pre><code class="hljs" data-line-numbers="2,3">&lt;div id="app"&gt;
	&lt;p&gt;{{ message }}&lt;/p&gt;
	&lt;input v-model="message"&gt;
&lt;/div&gt;</code></pre>

						<p class="text-left">Con v-model recogemos el valor de cualquier input y lo guardamos en la variable o propiedad de objeto pasado.</p>
					</section>
				</section>

				<!-- 4 -->
				<section>
					<section>
						<h3>4 - INTERPOLACIÓN Y DIRECTIVAS</h3>

						<p class="text-left">Como ya hemos visto, usamos los corchetes para mostrar el contenido de variables en la vista, pero no estamos limitados a variables, vue interpreta cualquier expresión de javascript válida:</p>
						<pre><code class="hljs" data-line-numbers="2">&lt;div id="app"&gt;
{{ 'Fecha Actual: ' + new Date().toLocaleString() + ' - 1 + 1 = ' + 1 + 1 }}
&lt;/div&gt;</code></pre>

						<p class="text-left">Tenemos más formas de bindear variables y texto en la vista.</p>
					</section>
						
					<section>
						<h4>4.1 Directivas de texto:</h4>

						<p class="text-left">Las directivas son nuevas propiedades añadidas en el propio html que vue interpreta, esta faceta del framework proviene de angular.</p>

						<p class="text-left">&lt;span <span class="important">v-once</span>&gt;{{ propiedad }}&lt;/span&gt; : Solo se interpreta una vez el contenido, después no se actualiza.</p>
						<p class="text-left">&lt;span <span class="important">v-text="propiedad"</span>&gt;&lt;/span&gt; : Identico a como funcionan los corchetes, pero en forma de directiva.</p>
						<p class="text-left">&lt;span <span class="important">v-html="propiedad"</span>&gt;&lt;/span&gt; : Es capaz de interpretar html</p>
					</section>

					<section>
						<h4>4.2 Bindeo de Atributos html:</h4>
						
						<p class="text-left">Para bindear el valor de atributos html desde una variable se usa <span class="important">v-bind:propiedadHtml</span> o su alias <span class="important">:propiedadHtml</span>, esto hace a la propiedad dependiente de la variable.</p>

						<pre><code class="hljs" data-line-numbers="1,2">&lt;div :class="{active: prop}"&gt;
&lt;div :style="{color: prop}"&gt;</code></pre>

						<p class="text-left">Podemos bindear cualquier otra propiedad como disabled, href, id</p>
						EJEMPLO
					</section>
				</section>

				<!-- 5 -->
				<section>
					<section>
						<h3>5 - FILTROS</h3>

						<p class="text-left">Los filtros son decoraciones que haces en última instancia de los datos, desde añadir un simbolo de euro a formatear una fecha para un campo y son muy sencillos de crear y usar:</p>
						<pre><code class="hljs" data-line-numbers="2,6,7,8,9,10">&lt;div id="app"&gt;
	&lt;p&gt;{{ message | reverse }}&lt;/p&gt;
&lt;/div&gt;

var app = new Vue({
	filters: {
		reverse (string) {
			return string.split('').reverse().join('')
		}
	},
	...</code></pre>
					</section>
				</section>

				<!-- 6 -->
				<section>
					<section>
						<h3>6 - MÉTODOS Y EVENTOS</h3>

						<h4>6.1 Métodos:</h4>
						<p class="text-left">Los métodos son tal cual suenan, funciones separadas de funcionalidad y sirven tanto para reducir y encapsular el código como para tratar eventos.</p>
						<pre><code class="hljs" data-line-numbers="2,3,4,5,6">var app = new Vue({
	methods: {
		reverse () {
			return string.split('').reverse().join('')
		}
	},
	...</code></pre>
					</section>

					<section>
						<h4>6.1 Eventos:</h4>

						<p class="text-left">Para manejar eventos se utiliza la sentencia <span class="important">v-on</span> o su alias <span class="important">@</span> seguido un evento de js, como click, submit, change, etc...</p>
						<pre><code class="hljs" data-line-numbers="1,4,5">&lt;button @click="sumar($event)"&gt;sumar&lt;/button&gt;
							
	methods: {
		sumar (evento) {
			....
		}
	}</code></pre>

					Se recibe un evento por defecto
					</section>

					<section>
						<h4>6.2 Modificadores:</h4>

						<p class="text-left">Los modificadores se añaden a continuación de los eventos para realizar una acción adicional o concretar el evento, como evitar un submit o controlar que el usuario escriba una tecla concreta.</p>
						<pre><code class="hljs" data-line-numbers="1,2">&lt;form @submit.prevent="miSubmit()"&gt;Enviar&lt;/button&gt;
&lt;input @keyup.enter="funcion"/&gt;</code></pre>

						<p class="text-left">Los eventos los podeis encontrar en el siguiente enlace: <a href="https://developer.mozilla.org/es/docs/Web/Events">EVENTOS</a></p>
						<p>En está tabla teneís los modificadores:</p>
						<table class="separada">
							<thead>
								<tr>
									<th>BÁSICOS</th>
									<th>TECLAS</th>
									<th>MODIFICADORES DE TECLAS</th>
									<th>RATÓN</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<ul>
											<li>.stop</li>
											<li>.prevent</li>
											<li>.capture</li>
											<li>.self</li>
											<li>.once</li>
											<li>.passive</li>
										</ul>
									</td>
									<td>
										<ul>
											<li>.enter</li>
											<li>.tab</li>
											<li>.delete (coge del y retroceso)</li>
											<li>.esc</li>
											<li>.space</li>
											<li>.up</li>
											<li>.down</li>
											<li>.left</li>
											<li>.right</li>
										</ul>
									</td>
									<td>
										<ul>
											<li>.ctrl</li>
											<li>.alt</li>
											<li>.shift</li>
											<li>.meta</li>
											<li>.exact</li>
										</ul>
									</td>
									<td>
										<ul>
											<li>.left</li>
											<li>.right</li>
											<li>.middle</li>
										</ul>										
									</td>
								</tr>
							</tbody>
						</table>
					</section>
				</section>

				<!-- 7 -->
				<section>
					<section>
						<h3>7 - COMPUTED PROPERTIES Y WATCHERS</h3>

						<p class="text-left">Al principio suenan parecidas, pero nos sirven para cosas distintas</p>
						<ul>
							<li>Computed properties: son variables nuevas que se generan a partir de otras. Podrías decir que son como filtros que se ejecutan al inicio.</li>
							<li>Watchers: manejadores de eventos sobre variables de vue, es decir, ejecutan codigo cuando algo concreto cambia.</li>
						</ul>
					</section>

					<section>
						<h4>7.1 Computed properties:</h4>

						<p class="text-left">Son como las variables de data, pero mucho más utiles, te permiten añadir nueva información encapsulada, accesible y reactiva.</p>
						<pre><code class="hljs" data-line-numbers="3,4,6,7,8,9,10,11">var example1 = new Vue({
	data: {
		nombre: 'Mario'
		edad: 22
	},
	computed: {
		mayorDeEdad () {
			return this.edad >= 18
		},
		contadorDeLetras () {
			return this.nombre.length
		}
	}
})</code></pre>

						<p class="text-left">Ahora podrías usar 'mayorDeEdad' y 'contadorDeLetras' como una condicion por ejemplo, a parte, cada vez que cambien los datos de los que dependen, se actualizarán automáticamente.</p>
					</section>

					<section>
						<h4>7.2 Computed properties setters:</h4>

						<p class="text-left">
							Puede pasar en algunas ocasiones que queramos mostrar en un input una variable que sea en realidad una computada y por lo tanto, no podamos en primera instancia
							modificar esa variable en tiempo real como el resto, para eso usamos un setter.
						</p>
						<pre><code class="hljs" data-line-numbers="4,5,8,9,10,11,12">computed: {
	fullName: {
		// getter
		get: function () {
			return this.firstName + ' ' + this.lastName
		},
		// setter
		set: function (newValue) {
			var names = newValue.split(' ')
			this.firstName = names[0]
			this.lastName = names[names.length - 1]
		}
	}
}</code></pre>
					</section>

					<section>
						<h4>7.3 Watchers:</h4>

						<p class="text-left">Los watchers reciben dos parametros opcionales que son el valor antiguo de lo que cambia y el nuevo valor.</p>
						<pre><code class="hljs" data-line-numbers="1,5,7,8,9,10">&lt;input v-model="nombre"&gt;

var example1 = new Vue({
	data: {
		nombre: ''
	},
	watch: {
		nombre (old, new) {
			'El antiguo valor era' + old + ' el nuevo es ' + new
			if (nombre != '') this.habilitarSubmit() 
		}
	}
})</code></pre>
					</section>

					<section>
						<h4>7.3 Watchers deep:</h4>

						<p class="text-left">Con esta propiedad puedes hacer que vue esté atento a los cambios de las propiedades de un objeto.</p>
						<pre><code class="hljs" data-line-numbers="2,3,4,8,9,10,11,12,13">data: {
	persona: {
		id: 1,
		edad: 12
	}
},
watch: {
	persona: {
		handler (newValue) {
			console.log("La persona con el ID:" + newValue.id + " ha sido modificada")
			console.log("Nueva edad: " + newValue.edad)
		},
		deep: true
	}
}</code></pre>
					</section>
				</section>

				<!-- 8.0 -->
				<section>
					<section>
						UNA PAUSITA
					</section>
				</section>

				<!-- 8 -->
				<section>
					<section>
						<h3>8 - DIRECTIVAS DE CONTROL DE FLUJO</h3>

						<h4>8.1 Condicionales:</h4>
						<pre><code class="hljs" data-line-numbers="1,2,3,4,5,8,9">&lt;div v-show="type == 'A'"&gt;A&lt;/div&gt;
&lt;div v-if="type == 'A'"&gt;A&lt;/div&gt;
&lt;div v-else-if="type == 'B'"&gt;B&lt;/div&gt;
&lt;div v-else-if="type === 'C'"&gt;C&lt;/div&gt;
&lt;div v-else&gt; NO A/B/C&lt;/div&gt;

...
	data: {
		type: 'C'
	}</code></pre>
					</section>

					<section>
						<h4>8.2 Etiqueta template</h4>

						<p class="text-left">
							Es una etiqueta especial que puede contener un fragmento de codigo HTML que no se renderizará, pero puede set instanciado por javascript en tiempo de ejecución,
							es decir, es una etiqueta que no se carga, puediendo usarse para agrupar otras etiquetas o lógica sin que afecte al diseño.
						</p>
						<pre><code class="hljs" data-line-numbers="1">&lt;template v-show="type == 'A'"&gt;A&lt;/template&gt;</code></pre>
					</section>

					<section>
						<h4>8.3 Ciclos:</h4>

						<pre><code class="hljs" data-line-numbers="1,2,7,8,9,10,11">&lt;ul id="example-1"&gt;
	&lt;li v-for="item in items"&gt;{{ item.message }}&lt;/li&gt;
&lt;/ul&gt;
				
var example1 = new Vue({
	el: '#example-1',
	data: {
		items: [
			{ message: 'Foo' },
			{ message: 'Bar' }
		]
	}
})</code></pre>
					</section>
				</section>

				<!-- 9 -->
				<section>
					<section>
						<h3>9 - CICLO DE VIDA</h3>

						<p class="text-left">Vue cuenta con una serie de eventos que se ejecutan en momentos concretos, por ejemplo:</p>
						<pre><code class="hljs" data-line-numbers="1,2">created: function () {
	console.log('El componente se crea')
}</code></pre>

						<p class="text-left">created se ejecuta antes de que se monten todos los tags html y por tanto es un buen sitio para hacer llamadas para traer los datos o formatear los datos que nos pasa otro componente.</p>
					</section>

					<section>
						<h4>9.1 Diagrama de la vida de un componente:</h4>

						<img src="life.jpg" width="800">
					</section>
				</section>

				<section>
					<section>
						<h3>10 - RESUMEN</h3>
						<table style="margin-left:-250px;">
							<tr>
								<td>
									<h4>INSTANCIA DE VUE</h4>
									<pre><code class="hljs" data-line-numbers="1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19">data() {}, // variables
computed: {}, // variables a partir de otras
watch: {}, // listeners sobre cambios en variables
methods: {}, // métodos

beforeCreate() {},
created() {},
beforeMount() {},
mounted() {},
beforeUpdate() {},
updated() {},
activated() {},
deactivated() {},
beforeDestroy() {},
destroyed() {},

errorCaptured() {}</code></pre>
								</td>
								<td>
									<h4>DIRECTIVAS</h4>
									<pre><code class="hljs small" data-line-numbers="1,2,3,4,5,6,7,8,9,10,11,12,13">v-cloack // renderiza la vista cuando vue está listo
v-once // solo se interpreta una vez
v-text="" // bindea el texto o variable pasada en la etiqueta
v-html="" // = pero bindea html también
v-model="" // une el campo a una variable de vue
v-bind:prop="" o :prop="" // bindea el texto o variable en la propiedad
v-on:evento.modificador="" o @evento.modificador="" // Ejecuta el método pasado
v-show="condicion" // Muestra la etiqueta si se cumple al entrar en la página
v-if="condicion" // =
v-else-if="condicion" // =
v-else="condicion" // =
v-for="(val, key, index) in obj" // Crea el elemento del v-for como propiedades tenga el objeto o elementos el array
									</code></pre>
								</td>
							</tr>
						</table>
					</section>

					<section>
						<h2>GRACIAS POR VOLAR CON NOSOTROS</h2>
						<br>
						<p class="text-left">Aquí os dejo un par de enlaces con chuletas de vue: <a href="https://marozed.ma/vue-cheatsheet/">Chuleta 1</a> y <a href="http://codepop.com/Vue-Essentials-Cheat-Sheet.pdf">Chuleta 2</a></p>
						<p class="text-left">Y un par de enlaces para empliar información: <a href="https://es.vuejs.org/v2/guide/">Documentación Vue</a> y <a href="https://es.vuejs.org/v2/api/">API de vue</a></p>
					</section>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
